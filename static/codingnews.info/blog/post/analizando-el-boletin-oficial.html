<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Coding News - Analizando el Boletín Oficial</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <meta name="author" content="Marcos Vanetta">
    <meta name="description" content="Blog about my experiences as a Knight Mozilla Fellow">
    <meta name="keywords" content="DDJ, Texas, open data, open source, ruby, python, JavaScript">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/stylesheets/all.css">
    <style>
    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .cm {
  color: #999988;
  font-style: italic;
}
.highlight .cp {
  color: #999999;
  font-weight: bold;
}
.highlight .c1 {
  color: #999988;
  font-style: italic;
}
.highlight .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
.highlight .c, .highlight .cd {
  color: #999988;
  font-style: italic;
}
.highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}
.highlight .gd {
  color: #000000;
  background-color: #ffdddd;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .gi {
  color: #000000;
  background-color: #ddffdd;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .kc {
  color: #000000;
  font-weight: bold;
}
.highlight .kd {
  color: #000000;
  font-weight: bold;
}
.highlight .kn {
  color: #000000;
  font-weight: bold;
}
.highlight .kp {
  color: #000000;
  font-weight: bold;
}
.highlight .kr {
  color: #000000;
  font-weight: bold;
}
.highlight .kt {
  color: #445588;
  font-weight: bold;
}
.highlight .k, .highlight .kv {
  color: #000000;
  font-weight: bold;
}
.highlight .mf {
  color: #009999;
}
.highlight .mh {
  color: #009999;
}
.highlight .il {
  color: #009999;
}
.highlight .mi {
  color: #009999;
}
.highlight .mo {
  color: #009999;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #009999;
}
.highlight .sb {
  color: #d14;
}
.highlight .sc {
  color: #d14;
}
.highlight .sd {
  color: #d14;
}
.highlight .s2 {
  color: #d14;
}
.highlight .se {
  color: #d14;
}
.highlight .sh {
  color: #d14;
}
.highlight .si {
  color: #d14;
}
.highlight .sx {
  color: #d14;
}
.highlight .sr {
  color: #009926;
}
.highlight .s1 {
  color: #d14;
}
.highlight .ss {
  color: #990073;
}
.highlight .s {
  color: #d14;
}
.highlight .na {
  color: #008080;
}
.highlight .bp {
  color: #999999;
}
.highlight .nb {
  color: #0086B3;
}
.highlight .nc {
  color: #445588;
  font-weight: bold;
}
.highlight .no {
  color: #008080;
}
.highlight .nd {
  color: #3c5d5d;
  font-weight: bold;
}
.highlight .ni {
  color: #800080;
}
.highlight .ne {
  color: #990000;
  font-weight: bold;
}
.highlight .nf {
  color: #990000;
  font-weight: bold;
}
.highlight .nl {
  color: #990000;
  font-weight: bold;
}
.highlight .nn {
  color: #555555;
}
.highlight .nt {
  color: #000080;
}
.highlight .vc {
  color: #008080;
}
.highlight .vg {
  color: #008080;
}
.highlight .vi {
  color: #008080;
}
.highlight .nv {
  color: #008080;
}
.highlight .ow {
  color: #000000;
  font-weight: bold;
}
.highlight .o {
  color: #000000;
  font-weight: bold;
}
.highlight .w {
  color: #bbbbbb;
}
.highlight {
  background-color: #f8f8f8;
}
    .highlight {
      background-color: #FFF;
    }
    </style>
    <link href='http://fonts.googleapis.com/css?family=Oxygen:400,300,700'rel='stylesheet' type='text/css'>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  </head>
  <body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <header class="main">
      <div class="title">
        <a href="http://codingnews.info/"><h2>CODING<strong>NEWS</strong></h2></a>
      </div>
      <div class="links">
        <ul>
          <li><a href="/about.html">About</a></li>
          <li><a href="/talks.html">Talks</a></li>
          <li><a href="http://twitter.com/malev"><i class="fa fa-twitter"></i></a></li>
          <li><a href="http://github.com/malev"><i class="fa fa-github-alt"></i></a></li>
          <li><a href="http://ar.linkedin.com/in/marcosvanetta"><i class="fa fa-linkedin"></i></a></li>
        </ul>
      </div>
      <img src="/images/100_0855.JPG" id="main-image">
    </header>
    <div class="main-container">
        <header class="article">
          <h2>Analizando el Boletín Oficial</h2>
          <span class="date">
            May 27
          </span>
        </header>
        <article class="post">
          <h1>Analizando el Boletín Oficial</h1>

<p>El Boletín Oficial, según Wikipedia, es &ldquo;el medio de comunicación
escrito que el Estado argentino utiliza para publicar sus normas jurídicas
(tales como leyes, decretos y reglamentos) y otros actos de naturaleza pública,
tanto del poder legislativo como del ejecutivo y el judicial&rdquo;. Se compone de
cuatro secciones que se enfocan en normas jurídicas, sociedades, contrataciones
y dominios de internet respectivamente. Su sitio web es
<a href="https://www.boletinoficial.gob.ar">www.boletinoficial.gob.ar</a> y por suerte es
muy fácil de scrapear.</p>

<p>En este primer blogpost me voy a enfocar en la Primera Sección que incluye leyes,
decretos, resoluciones y disposiciones emanadas de organismos públicos de los
tres poderes del Estado.</p>

<h2>Scraping the bad way</h2>

<p><strong>Si te interesa bajar la primera sección, hace click
<a href="https://s3-us-west-2.amazonaws.com/data.codingnews.info/output.dat.zip">aquí</a>.</strong></p>

<p>Hace unos años atras escribí un <a href="http://codingnews.info/post/beyond-scrapping.html">post</a>
sobre consejos a la hora de hacer scraping. Hoy <strong>NO</strong> voy a respetar ninguno de
esos consejos pues no tengo interes en reproducir este scraping ni nada por el
estilo.</p>

<p>El primer paso consiste en visitar la página del Boletín Oficial y analizar qué
tipos de llamadas se hacen desde el sitio.</p>

<p><img alt="Página principal" src="/images/boletin1.png" /></p>

<p>Podemos distinguir, fácilmente, una llamada del tipo POST a <code>secciones.json</code> que
devuelve un arreglo con los elementos de la Primera Sección para la fecha
enviada como parámetro de la llamada.</p>

<p><img alt="Primer decreto" src="/images/boletin2.png" /></p>

<p>Luego, hacemos click en caulquier decreto o resolución de la página. Una vez
que la página se actualice veremos una llamada a <code>detallePrimera</code>, si la
inspeccionamos veremos entre otras cosas el contenido del Decreto,
la fecha de publicación, el nombre del archivo con el que fue publicado
y su contenido. Esta va a ser la URL que vamos a probar con <code>cURL</code>:</p>
<pre><code class="highlight plaintext">$ curl --silent -q --data "numeroTramite=147002" \
https://www.boletinoficial.gob.ar/norma/detallePrimera
</code></pre>

<p>Y como resultado tendremos:</p>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"dataList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"fechaEfectiva"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organismo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CORTE SUPREMA DE\u00a0JUSTICIA DE\u00a0LA\u00a0NACI\u00d3N\r\n"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipoNorma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DECRETO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numeroNorma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Decreto 803"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"anioNorma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"detalleNorma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTML CONTENT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"idTramite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"147002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadVisitas"</span><span class="p">:</span><span class="w"> </span><span class="mi">2135</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadVisitasHoy"</span><span class="p">:</span><span class="w"> </span><span class="mi">2135</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fechaDeHoy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160623"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paginaDesde"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paginaHasta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadPaginasAfectadas"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadPaginasAfectadasPor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadPaginasNormaFechaEfectiva"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadPaginasVisitadas"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cantidadPaginasAnoexos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"anexosNorma"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"normasAfectadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"normasAfectadasPor"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"fechasEfectivaNorma"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"normasVisitadas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"idRubro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descRubro"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Decretos"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"archivoPDF"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016062301N.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fechaPublicacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160623"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"suplemento"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"idTipoNorma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hcuvPSIvRwwrf5FU52+Ovi1bLS1JVi1bLUKbcb5YiYrnLAFxN7RJbCs="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"codigoError"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mensajeError"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Eso es exactamente lo que queremos!</strong> Ahora vamos a usar <code>seq</code> y <code>parallel</code>
para bajar los archivos con:</p>
<pre><code class="highlight plaintext">seq 100000 1 140000 | parallel -j10 \
"curl --silent -q --data "numeroTramite={}" \
https://www.boletinoficial.gob.ar/norma/detallePrimera --output {}.json"
</code></pre>

<p>Esto nos va a generar 40000 archivos JSON que voy a unir con:</p>
<pre><code class="highlight plaintext">for f in *.json; do (cat "${f}"; echo) &gt;&gt; output.dat; done
</code></pre>

<p>Así logramos un único (<code>output.dat</code>) archivo para empezar a jugar.</p>

<h2>Cargar los datos</h2>

<p>Para cargar los datos usamos <a href="http://dask.pydata.org/">Dask</a>. Básicamente,
leemos el archivo línea por línea, parseamos con <code>ujson</code> y si el resultado
tiene un elemento llamada <code>detalleNorma</code> asumimos que es un documento válido. A
cada documento le extraemos el exto con
<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup4</a>.
Pasamos todo el texto a minúsculas, filtramos los componentes que no son
palabras, las denominadas <em>stop words</em> (palabras que no me dan valor) y por último
contamos la aparición de cada palabra:</p>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">ujson</span>
<span class="kn">import</span> <span class="nn">dask.bag</span> <span class="kn">as</span> <span class="nn">db</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>


<span class="n">bag</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">read_text</span><span class="p">(</span><span class="s">"output.dat"</span><span class="p">)</span>

<span class="n">is_word</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">"^[a-zA-ZáéíóúüñÁÉÍÓÚÜÑ]+$"</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>
<span class="n">not_is_stopword</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s">'spanish'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="n">blob</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">blob</span><span class="p">[</span><span class="s">'dataList'</span><span class="p">]:</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">blob</span><span class="p">[</span><span class="s">'dataList'</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'detalleNorma'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">"html.parser"</span><span class="p">)</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[]</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">bag</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">ujson</span><span class="o">.</span><span class="n">loads</span><span class="p">)</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">extract</span><span class="p">)</span><span class="o">.</span><span class="n">concat</span><span class="p">()</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">is_word</span><span class="p">)</span><span class="o">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">not_is_stopword</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">frequencies</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</code></pre>

<p>Una vez que tenemos la frecuencia de cada palabra en todos los documentos de la
Primera Sección ordeno y mostramos las 10 palabras más frecuentes:</p>
<pre><code class="highlight plaintext">sort = sorted(res, key=lambda x: x[1], reverse=True)
sort[0:10]
</code></pre>

<h2>Top 10 de palabras en la sección primera</h2>
<pre><code class="highlight plaintext">| Palabra   | Frecuencia |
|-----------|------------|
| dni       |     213703 |
| Nº        |      188174|
| nacional  |      184061|
| calibre   |      133918|
| ley       |      114651|
| decreto   |      112959|
| presente  |      112024|
| ministerio|      111594|
| fecha     |       96887|
| plg       |       75974|
</code></pre>

<p>Sólo a modo de prueba, hay publicado un notebook con algunos documentos y el código
de este post <a href="https://github.com/malev/codingnews.info/blob/master/notebooks/boletin.ipynb">aquí</a>.</p>

<p><strong>Nota:</strong> Tengo pensado jugar un poco más con estos datos en futuros posts.</p>

        </article>
        <footer>
          <b>Tags:</b>
          <a href="/tags/dask.html">dask</a>, <a href="/tags/boletin-oficial.html">boletin-oficial</a>, <a href="/tags/argentina.html">argentina</a>, <a href="/tags/data.html">data</a>, <a href="/tags/datos.html">datos</a>, <a href="/tags/python.html">python</a>, <a href="/tags/pydata.html">pydata</a>
        </footer>
        <div class="comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'codingnews'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
    <footer class="footer">
      <div class="resource">
        <label>Tags</label>
        <ul class="tags">
          <li><a href="/tags/scrapping.html">Scrapping (1)</a></li>
          <li><a href="/tags/dev.html">Dev (1)</a></li>
          <li><a href="/tags/random.html">Random (1)</a></li>
          <li><a href="/tags/programming.html">Programming (6)</a></li>
          <li><a href="/tags/analysis.html">Analysis (2)</a></li>
          <li><a href="/tags/python.html">Python (5)</a></li>
          <li><a href="/tags/opensource.html">Opensource (2)</a></li>
          <li><a href="/tags/ruby.html">Ruby (3)</a></li>
          <li><a href="/tags/hacking.html">Hacking (1)</a></li>
          <li><a href="/tags/conferences.html">Conferences (3)</a></li>
          <li><a href="/tags/community.html">Community (4)</a></li>
          <li><a href="/tags/open-hardware.html">Open Hardware (2)</a></li>
          <li><a href="/tags/opennews.html">Opennews (1)</a></li>
          <li><a href="/tags/community.html">Community (3)</a></li>
          <li><a href="/tags/piratebox.html">Piratebox (2)</a></li>
          <li><a href="/tags/open-internet.html">Open Internet (2)</a></li>
          <li><a href="/tags/share.html">Share (2)</a></li>
          <li><a href="/tags/hacking.html">Hacking (1)</a></li>
          <li><a href="/tags/databootcamp.html">Data Boot Camp (1)</a></li>
          <li><a href="/tags/workshop.html">Workshop (1)</a></li>
          <li><a href="/tags/javascript.html">Javascript (1)</a></li>
          <li><a href="/tags/opensource.html">Opensource (1)</a></li>
          <li><a href="/tags/open-data.html">Open Data (1)</a></li>
          <li><a href="/tags/pandas.html">Pandas (1)</a></li>
          <li><a href="/tags/dask.html">Dask (2)</a></li>
          <li><a href="/tags/boletin-oficial.html">Boletin Oficial (1)</a></li>
          <li><a href="/tags/argentina.html">Argentina (1)</a></li>
          <li><a href="/tags/data.html">Data (2)</a></li>
          <li><a href="/tags/datos.html">Datos (2)</a></li>
          <li><a href="/tags/pydata.html">Pydata (2)</a></li>
          <li><a href="/tags/nlp.html">Nlp (2)</a></li>
          <li><a href="/tags/freeling.html">Freeling (1)</a></li>
          <li><a href="/tags/nodejs.html">Nodejs (1)</a></li>
          <li><a href="/tags/data-science.html">Data Science (1)</a></li>
        </ul>
      </div>
      <div class="resource">
        <label>Resources</label>
        <ul class="links">
          <li><a href="/about.html">About</a></li>
          <li><a href="/about.html#projects">Projects</a></li>
          <li><a href="/talks.html">Talks</a></li>
          <li><a href="/feed.xml">Feed</a></li>
        </ul>
      </div>
    </footer>
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-29516046-2');ga('send','pageview');
    </script>
    <script type="text/javascript">
      var images = ['berlin.png', 'brussels.png', 'rosario.png', 'austin.png'],
          element = document.getElementById('main-image'),
          img;
      img = images[Math.floor(Math.random() * images.length)];

      element.setAttribute('src', '/images/' + img);
    </script>
  </body>
</html>
